<header>
    <div class="background-photo">
      <div class="container height-100 d-flex align-items-center">
  
        <div class="title ">
          <h1>Panel Użytkownika</h1>
        </div>
  
      </div>
    </div>
  </header>
  
  <!-- Page Content -->
  <div class="container container-margins">
  <div class="row">
    <div class="col-3">
      <div class="list-group" id="list-tab" role="tablist">
        <a class="list-group-item list-group-item-action text-center font-weight-bold disabled" id="list-home-list" data-toggle="list"
          role="tab" aria-controls="home">Panel Użytkownika</a>
        <a class="list-group-item list-group-item-action active" id="list-home-list" data-toggle="list" href="#list-home" role="tab"
          aria-controls="home">Mój profil</a>
        <a class="list-group-item list-group-item-action" id="list-settings-list" data-toggle="list" href="#list-orders" role="tab"
          aria-controls="current-orders">Moje zamówienia</a>

        <a class="list-group-item list-group-item-action" id="list-profile-list" data-toggle="list" href="#list-profile" (click)="userEditDeliveryTab()"
          role="tab" aria-controls="profile">Dane do wysyłki</a>
        <a class="list-group-item list-group-item-action" id="list-messages-list" data-toggle="list" href="#list-messages" (click)="userEditInvoiceTab()"
          role="tab" aria-controls="messages">Dane do faktury</a>
        <a class="list-group-item list-group-item-action" id="list-settings-list" data-toggle="list" href="#list-settings" role="tab"
          aria-controls="settings">Zmiana hasła</a>
        <a class="list-group-item list-group-item-action" id="list-settings-list" data-toggle="list" (click)="logout()" role="tab"
          aria-controls="orders-history">Wyloguj</a>
      </div>
    </div>
    <div class="col-9">
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">



          <h3>Mój profil</h3>
          <hr/>
          <form class="form-horizontal" role="form" *ngIf="userService.client">
            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientFirstName">Imię:</label>
              <div class="col-sm-8">
                <input type="text" name="clientFirstName" placeholder="Wpisz swoje imię" [(ngModel)]="userEdit.firstName" class="form-control"
                  autofocus>
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientLastName">Nazwisko:</label>
              <div class="col-sm-8">
                <input type="text" name="clientLastName" placeholder="Wpisz swoje nazwisko" [(ngModel)]="userEdit.lastName" class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientEmail">Adres e-mail:</label>
              <div class="col-sm-8">
                <input type="email" name="clientEmail" placeholder="Podaj swój adres e-mail" [(ngModel)]="userEdit.email" class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-6 control-label font-weight-bold" for="clientPhone">Numer telefonu:</label>
              <div class="col-sm-8">
                <input type="tel" name="clientPhone" placeholder="Podaj swój numer telefonu" [(ngModel)]="userEdit.phoneNumber" class="form-control">
              </div>
            </div>


            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-8">
                <div class="pull-right">
                  <button type="submit" class="btn btn-success" (click)="editProfile()">Zapisz zmiany</button>
                </div>
              </div>
            </div>

          </form>


        </div>
        <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">


          <h3>Dane do wysyłki</h3>
          <hr/>
          <form class="form-horizontal" role="form" *ngIf="userService.client && userEditDelivery">
            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientDeliveryFirstName">Imię:</label>
              <div class="col-sm-8">
                <input type="text" name="clientDeliveryFirstName" placeholder="Wpisz swoje imię" [(ngModel)]="userEditDelivery.deliveryFirstName"
                  class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientDeliveryLastName">Nazwisko:</label>
              <div class="col-sm-8">
                <input type="text" name="clientDeliveryLastName" placeholder="Wpisz swoje nazwisko" [(ngModel)]="userEditDelivery.deliveryLastName"
                  class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientDeliveryAddress">Adres:</label>
              <div class="col-sm-8">
                <input type="email" name="clientDeliveryAddress" [(ngModel)]="userEditDelivery.deliveryAddress" placeholder="Ulica, numer domu / mieszkania"
                  class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-6 control-label font-weight-bold" for="clientDeliveryPostCodeAndCity">Kod pocztowy i miejscowość:</label>
              <div class="row col-12">
                <div class="col-sm-3">
                  <input type="tel" name="clientDeliveryPostCode" [(ngModel)]="userEditDelivery.deliveryPostCode" placeholder="Kod pocztowy"
                    class="form-control">
                </div>
                <div class="col-sm-5" style="padding-right: 0;">
                  <input type="tel" name="clientDeliveryCity" [(ngModel)]="userEditDelivery.deliveryCity" placeholder="Miejscowość" class="form-control">
                </div>

              </div>
            </div>


            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-8">
                <div class="pull-right">
                  <button type="submit" class="btn btn-success" (click)="editDeliveryData()">Zapisz zmiany</button>
                </div>
              </div>
            </div>

          </form>


        </div>
        <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">


          <h3>Dane do faktury</h3>
          <hr/>
          <form class="form-horizontal" role="form" *ngIf="userService.client && userEditInvoice">
            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientInvoiceFirstName">Imię:</label>
              <div class="col-sm-8">
                <input type="text" name="clientInvoiceFirstName" placeholder="Wpisz swoje imię" [(ngModel)]="userEditInvoice.invoiceFirstName"
                  class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientInvoiceLastName">Nazwisko:</label>
              <div class="col-sm-8">
                <input type="text" name="clientInvoiceLastName" placeholder="Wpisz swoje nazwisko" [(ngModel)]="userEditInvoice.invoiceLastName"
                  class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label font-weight-bold" for="clientInvoiceAddress">Adres:</label>
              <div class="col-sm-8">
                <input type="email" name="clientInvoiceAddress" [(ngModel)]="userEditInvoice.invoiceAddress" placeholder="Ulica, numer domu / mieszkania"
                  class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-6 control-label font-weight-bold" for="clientInvoicePostCodeAndCity">Kod pocztowy i miejscowość:</label>
              <div class="row col-12">
                <div class="col-sm-3">
                  <input type="tel" name="clientInvoicePostCode" [(ngModel)]="userEditInvoice.invoicePostCode" placeholder="Kod pocztowy" class="form-control">
                </div>
                <div class="col-sm-5" style="padding-right: 0;">
                  <input type="tel" name="clientInvoiceCity" [(ngModel)]="userEditInvoice.invoiceCity" placeholder="Miejscowość" class="form-control">
                </div>

              </div>
            </div>


            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-8">
                <div class="pull-right">
                  <button type="submit" class="btn btn-success" (click)="editInvoiceData()">Zapisz zmiany</button>
                </div>
              </div>
            </div>

          </form>




        </div>
        <div class="tab-pane fade" id="list-settings" role="tabpanel" aria-labelledby="list-settings-list">




          <h3>Zmiana hasła</h3>
          <hr/>
          <form class="form-horizontal" role="form" *ngIf="userService.client" #model="ngForm" novalidate (ngSubmit)="changePassword(model.value, model.valid)">
            <div class="form-group">
              <label class="col-sm-6 control-label font-weight-bold" for="currentPassword">Obecne hasło:</label>
              <div class="col-sm-8">
                <input type="password" name="currentPassword" required minlength="5" #currentPassword="ngModel" [ngModel]="userChangePassword.currentPassword"
                  class="form-control">
                <small [hidden]="currentPassword.valid || (currentPassword.pristine && !model.submitted)">
                  Podanie poprawnego hasła jest wymagane.
                </small>
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-6 control-label font-weight-bold" for="newPassword">Nowe hasło:</label>
              <div class="col-sm-8">
                <input type="password" name="newPassword" minlength="5" validateEqual="confirmPassword" reverse="true"  [ngModel]="userChangePassword.newPassword" required #newPassword="ngModel"
                  class="form-control">
                <small [hidden]="newPassword.valid || (newPassword.pristine && !model.submitted)">
                  Nowe hasło powinno posiadać conajmniej 5 znaków.
                </small>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-6 control-label font-weight-bold" for="confirmPassword" required>Potwierdź nowe hasło:</label>
              <div class="col-sm-8">
                <input type="password" [disabled]="!newPassword.valid" name="confirmPassword" minlength="5" validateEqual="newPassword" reverse="false" [ngModel]="userChangePassword.confirmPassword" required #confirmPassword="ngModel"
                  class="form-control">
                <small [hidden]="confirmPassword.valid || (confirmPassword.pristine && !model.submitted)">
                  Podane hasła nie są identyczne.
                </small>
              </div>
            </div>



            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-8">
                <div class="pull-right">
                  <button type="submit" [disabled]="!model.valid" class="btn btn-success">Zmień hasło</button>
                </div>
              </div>
            </div>

          </form>






        </div>
        <div class="tab-pane fade" id="list-orders" role="tabpanel" aria-labelledby="list-current-orders">


            <h3>Moje zamówienia</h3>
            <hr/>
            <section *ngIf="orders">
                <div class="table-responsive table-padding">
                  <table class="table table-striped table-bordered table-hover ">
                    <thead>
                      <tr class="text-center">
                        <th>Id</th>
                        <th>Zlecono</th>
                        <th>Odbitek</th>
                        <th>Wartość</th>
                        <th>Status</th>
                        <th>Akcje</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let order of orders" class="text-center">
                        <td>{{ order.id }}</td>
                        <td>{{ order.orderDate | date: 'dd.MM.yyyy' }} godz. {{ order.orderDate | date: 'HH:mm' }}</td>
                        <td>{{ order.printsAmt }}</td>
                        <td>{{ order.totalOrderPrice | number:'1.2-2' }} zł</td>
                        <td>
                          <span *ngIf="order.isNew" class="status status-new">Nowe</span>
                          <span *ngIf="order.status == 0" class="status status-0">{{ getStatusName(order.status) }}</span>      
                          <span *ngIf="order.status == 1" class="status status-1">{{ getStatusName(order.status) }}</span>
                          <span *ngIf="order.status == 2" class="status status-2">{{ getStatusName(order.status) }}</span>
                          <span *ngIf="order.status == 3" class="status status-3">{{ getStatusName(order.status) }}</span>
                          <span *ngIf="order.status == 4" class="status status-4">{{ getStatusName(order.status) }}</span>
                          <span *ngIf="order.status == 5" class="status status-5">{{ getStatusName(order.status) }}</span>
                          <span *ngIf="order.status == 6" class="status status-6">{{ getStatusName(order.status) }}</span>
                          <span *ngIf="order.status == 7" class="status status-7">{{ getStatusName(order.status) }}</span>
                        </td>
                        <td>
      
                          <button type="button" class="btn btn-warning btn-sm" [routerLink]="['/admin/order-details', order.id]">
                            Szczegóły
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>
        </div>
      </div>
    </div>
  </div>
</div>